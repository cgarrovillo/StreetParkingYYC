require('dotenv').config()
const http = require('http')
const https = require('https')

const app = require('../app.js')
const log = require('../util/loggingUtility')

/*
 * Get port from .env or set it to 3500.
 */
const port = process.env.PORT || '3500'
app.set('port', port)

const server = http.createServer(app)

/*
 * Listen on provided port, on all network interfaces.
 */
server.listen(port)
const addr = server.address()
console.log(`Server started on ${addr.address}:${addr.port}`)
log.info(`Server started on ${addr.address}:${addr.port}`)

